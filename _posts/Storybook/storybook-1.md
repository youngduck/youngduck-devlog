---
title: "스토리북 200% 활용법: 개발 생산성과 UI 품질을 높이는 방법을 공유합니다."
excerpt: "제가 사용하면서 겪은 경험과 노하우를 정리했습니다."
coverImage: "/assets/blog/posts/storybook/storybook-1/cover.png"
date: "2025-05-15T18:55:00"
ogImage:
  url: "/assets/blog/posts/storybook/storybook-1/cover.png"
---

## 스토리북을 사용하는 이유

안녕하세요! YD-Tech 개발자 김영덕입니다.
오늘은 제가 스토리북을 어떻게 활용하고 있는지, 그리고 스토리북을 사용함으로써 얻을 수 있는 이점에 대해 공유해보려고 합니다.
&nbsp;

스토리북은 UI 컴포넌트를 독립적으로 개발하고 테스트할 수 있는 도구입니다. 처음에는 '굳이 이렇게까지 해야 하나?' 라는 생각이 들었지만, 복잡한 프로젝트를 진행하면서 그 필요성을 절실히 느끼게 되었어요.

## 다양한 상태를 시각적으로 확인하기

![하나의 컴포넌트에 다양한 상태(에러, 로딩, 조건별 렌더링)를 스토리북으로 표현한 모습](/assets/blog/posts/storybook/storybook-1/1.png)

컴포넌트를 개발하다 보면 정상 상태뿐만 아니라 로딩 중인 상태, 에러가 발생한 상태, 그리고 다양한 조건에 따른 렌더링 상태를 모두 고려해야 합니다. 스토리북을 사용하지 않으면, 이러한 다양한 상태를 확인하기 위해 실제 운영 환경이나 개발 환경에서 해당 상황을 일일이 만들어야 하는데, 이는 굉장히 비효율적이고 시간 소모적입니다.
&nbsp;

위 사진에서 볼 수 있듯이, 스토리북을 사용하면 한 컴포넌트의 여러 상태를 한 눈에 확인할 수 있어요. 예를 들어:

1. API 호출 성공 상태
2. API 호출 실패 상태
3. API 호출 로딩 상태
4. 로딩 상태

이렇게 다양한 상태를 한 곳에서 시각적으로 확인할 수 있다는 것은 개발 과정에서 큰 이점이 됩니다. 특히 디자이너와 협업할 때, "이런 상황에서는 UI가 어떻게 보이나요?"라는 질문에 바로 시각적으로 보여줄 수 있어 의사소통이 훨씬 수월해집니다.

## 복잡한 컴포넌트의 수많은 분기 테스트하기

![하나의 컴포넌트에 15가지의 분기를 스토리북으로 나타낸 모습](/assets/blog/posts/storybook/storybook-1/2.png)

실제 프로젝트에서는 사용자의 역할, 상태, 권한 등에 따라 하나의 컴포넌트가 수십 가지의 다른 모습을 보여줘야 할 때가 있습니다. 위 사진은 제가 개발한 컴포넌트가 15가지의 다른 케이스를 가지고 있는 모습입니다. (케이스명, json데이터는 보안을 위해 가렸습니다.)
&nbsp;

이렇게 복잡한 컴포넌트를 개발할 때 스토리북은 필수적입니다. 스토리북 없이 15가지 케이스를 모두 테스트하려면, 각 케이스마다 해당 상황을 만들어야 하는데, 이는 현실적으로 거의 불가능하거나 엄청난 시간이 소요됩니다.
&nbsp;

스토리북을 통해 각 케이스를 독립적으로 확인하면서 개발하니, 테스트 커버리지도 자연스럽게 높아지고 예상치 못한 UI 버그도 사전에 발견할 수 있었습니다. 저는 이제 복잡한 컴포넌트를 개발할 때는 무조건 스토리북으로 UI를 정리하고 시작하고 있습니다.

## 크로마틱을 활용한 시각적 회귀 테스트

![크로마틱을 통해 코드 변경 전후의 UI 차이를 확인하는 모습](/assets/blog/posts/storybook/storybook-1/3.gif)

스토리북의 또 다른 강력한 기능은 크로마틱(Chromatic)과 같은 도구와 연동하여 시각적 회귀 테스트(Visual Regression Testing)를 할 수 있다는 점입니다.
&nbsp;

코드를 변경하고 커밋할 때마다, 크로마틱은 변경 전후의 UI를 비교하여 의도치 않은 변화가 있는지 알려줍니다. 이를 통해 "이 버튼의 색상이 왜 바뀌었지?", "이 간격이 왜 넓어졌지?" 같은 의도치 않은 UI 변경을 쉽게 발견할 수 있습니다.
&nbsp;

특히 팀에서 여러 개발자가 동시에 작업할 때, 누군가의 변경사항이 다른 컴포넌트에 영향을 미치는 경우가 종종 있는데, 크로마틱을 통해 이런 문제를 사전에 발견하고 해결할 수 있었습니다.

## 플레이 기능을 통한 인터랙션 테스트

![스토리북의 플레이 기능을 통해 사용자 인터랙션을 시각적으로 테스트하는 모습](/assets/blog/posts/storybook/storybook-1/4.png)

스토리북의 플레이(Play) 기능은 컴포넌트의 인터랙션을 자동화하여 테스트할 수 있게 해줍니다. 이는 vitest나 jest 같은 테스트 코드를 시각적으로 확인할 수 있는 기능입니다.
&nbsp;

예를 들어, "버튼을 클릭하면 모달이 열리고, 모달 내의 확인 버튼을 누르면 데이터가 저장되고 모달이 닫힌다"와 같은 복잡한 인터랙션 흐름을 코드로 작성하고 시각적으로 확인할 수 있습니다.
&nbsp;

```tsx
// 플레이 기능을 이용한 인터랙션 테스트 예시
export const SubmitForm: Story = {
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement);

    // 폼 필드 입력
    await userEvent.type(canvas.getByLabelText("이름"), "김영덕");
    await userEvent.type(
      canvas.getByLabelText("이메일"),
      "example@yd-tech.com",
    );

    // 제출 버튼 클릭
    await userEvent.click(canvas.getByRole("button", { name: "제출" }));

    // 성공 메시지 확인
    await waitFor(() => {
      expect(
        canvas.getByText("성공적으로 제출되었습니다!"),
      ).toBeInTheDocument();
    });
  },
};
```

이러한 플레이 기능을 통해 단순한 UI 모양 확인을 넘어, 실제 사용자가 컴포넌트와 어떻게 상호작용하는지 테스트할 수 있어 UI 품질을 한층 더 높일 수 있었습니다.

## 결론: 스토리북, 필수일까?

여기까지 제가 스토리북을 활용하는 네 가지 방법에 대해 소개해드렸는데요, 이런 기능들을 보면 "스토리북은 모든 프로젝트에 필수적인 도구인가?"라는 질문이 들 수 있습니다.
&nbsp;

제 생각에는, 스토리북이 항상 필요한 것은 아닙니다. 간단한 프로젝트나 프로토타입 단계에서는 스토리북 설정에 드는 시간과 노력이 오히려 부담이 될 수 있습니다. 하지만 다음과 같은 상황에서는 스토리북이 매우 유용합니다:

1. 복잡한 UI 컴포넌트 라이브러리를 개발할 때
2. 여러 개발자가 동시에 작업하는 대규모 프로젝트
3. 디자이너와 개발자 간의 협업이 중요한 경우
4. 다양한 상태와 인터랙션을 가진 컴포넌트를 개발할 때
5. UI 품질과 일관성을 높이고 싶을 때

저는 개인적으로 스토리북을 통해 개발 생산성과 코드 품질을 크게 향상시킬 수 있었습니다. 물론 처음에는 설정과 학습 곡선이 있지만, 일단 익숙해지면 그 이점이 비용을 훨씬 뛰어넘는다고 생각합니다.
&nbsp;

여러분도 프로젝트의 특성과 팀의 상황에 맞게 스토리북 도입을 고려해보시기 바랍니다. 혹시 스토리북 활용에 관한 질문이 있으시면 언제든지 댓글로 남겨주세요!
